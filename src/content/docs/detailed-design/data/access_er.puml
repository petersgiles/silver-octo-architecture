@startuml
!include ../../includes/theme.iuml
!include ../../includes/erd.iuml

hide methods
hide stereotypes

title Roles & Access

' entities

Table(identity, "identity\n(a real person)") {
}

Table(profile, "profile\n(app related identity)") {
}

Table(personalisation, "personalisation\n(KVP to support\napp customisation)") {
}

Table(app, "app\n(available applications)") {
}

Table(id_source, "identity source\n(where is\nthis identity\nfrom)") {
}

Table(role, "role\n(operations and features)") {
}

Table(feature, "feature\n(group of operations)") {
}

Table(operation, "operation\n(an atomic act)") {
}


Table(artifact, "artifact\n(a thing)") {

}

' relationships


identity "1" .. "0..*" profile 
identity "1" .. "1..*" id_source 

app "1" .. "0..*" role 
app "1" .. "0..*" feature 
app "1" .. "0..*" operation 
app "1" .. "0..*" artifact

profile  "1" .. "1" app 

profile "1" .. "0..*" role 
profile "1" .. "0..*" feature 
profile "1" .. "0..*" operation 
profile "1" .. "0..*" artifact

personalisation "1" .. "0..1" profile
personalisation "1" .. "0..1" app 


role "1" <-- "0..*" feature 
role "1" .. "0..*" operation 

feature "1" .. "0..*" operation 

@enduml