@startuml
!include ../theme.iuml

hide methods
hide stereotypes

title Roles & Access

' entities

Table(identity, "identity\n(a real person)") {
}

Table(profile, "profile\n(app related identity)") {
}

Table(personalisation, "personalisation\n(KVP to support\napp customisation)") {
}

Table(app, "app\n(available applications)") {
}

Table(id_source, "identity source\n(where is\nthis identity\nfrom)") {
}

Table(role, "role\n(operations and features)") {
}

Table(feature, "feature\n(group of operations)") {
}

Table(operation, "operation\n(an atomic act)") {
}

' relationships


identity "1" .. "0..*" app : "Apps a identity has access to"
identity "1" .. "1..*" id_source : "Identity Sources\n(i.e. Vangard, ADFS, Active Directory"

app  "1" .. "1" profile : "Apps a identity has access to"

profile "1" .. "0..*" role : "A identity identity may be assigned roles"
profile "1" .. "0..*" feature : "A identity identity may be assigned features"
profile "1" .. "0..*" operation : "A identity identity may be assigned operations"

personalisation "1" .. "0..1" profile
personalisation "1" .. "0..1" app 


role "1" .. "0..*" feature : "A role may be assigned features"
role "1" .. "0..*" operation : "A role may be assigned operations"

feature "1" .. "0..*" operation : "A feature may be assigned operations"

@enduml