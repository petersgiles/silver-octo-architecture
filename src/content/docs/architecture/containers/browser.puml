@startuml
title Basic Web App

note "Forms\nAuthentication" as N1
note "Windows\nAuthentication" as N2

component Browser <<app>> as BR

folder "Protected Network" {

    node "Web Server" as WS {
        [Presentation]
        [Business]
        [Data]
    }

    database "Database Server" as DS {
        [User Store]

    }

    BR --> WS : HTTPS 

    [Presentation] <-down-> [Business]
    [Business] <-down-> [Data]
    [Data] <-down-> DS : TCP IP 
    WS .left. N1
    DS .left. N2
@enduml
@startuml
!include ../../includes/theme.iuml

title Browser

actor :Collaborator: <<person>> as R
actor :Owner: <<person>> as O
component [Active Directory] <<service>> as AD
database "SQL Server" <<database>> as SQL
database CouchDB <<system>> as C 
queue "Event Bus" <<service>> as ESB

node SharePoint as SP {
    component [Site] <<system>>
}

node IIS {
package "DSuite" as DS <<web app>> {
    component "App" <<app>> as DSAPP
    database PouchDB <<storage>> as P
}


AD --> DS : Secures
DSAPP <--> P : Uses 
P <--> C : Replicates
R -- DS: Reads

package "Admin Host" as AH {

    component [Admin] <<website>> as AW 
    component WebApi <<system>> as WAPI 

    AW <--> SP
    AW <--> SQL
    AW <--> ESB
    
    WAPI <--> SP
    WAPI <--> SQL
    WAPI <--> ESB
    
}

ESB <-up-> SQL

DSAPP --> WAPI
O -- AH : Manages
ESB <--> SP

C <--> ESB
}
@enduml